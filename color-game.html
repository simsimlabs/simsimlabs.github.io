<!DOCTYPE html>
<html lang="ko">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2261846676525942"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì ˆëŒ€ìƒ‰ê° í…ŒìŠ¤íŠ¸ | ì‹¬ì‹¬í’€ì´ ì—°êµ¬ì†Œ</title>
    <meta name="description" content="ë‹¹ì‹ ì˜ ëˆˆì€ ì–¼ë§ˆë‚˜ ì •í™•í•œê°€ìš”? ë¯¸ì„¸í•˜ê²Œ ë‹¤ë¥¸ ìƒ‰ê¹”ì„ ì°¾ì•„ë³´ì„¸ìš”! ì¤‘ë…ì„± 200% ë¯¸ë‹ˆê²Œì„">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://simsimlabs.github.io/color-game.html">
    <meta property="og:title" content="ì ˆëŒ€ìƒ‰ê° í…ŒìŠ¤íŠ¸ ğŸ¨">
    <meta property="og:description" content="ë ˆë²¨ì´ ì˜¤ë¥¼ìˆ˜ë¡ ì•ˆ ë³´ì—¬ìš”! ë‹¹ì‹ ì€ ê³¼ì—° ëª‡ ë‹¨ê³„ê¹Œì§€ ê°ˆ ìˆ˜ ìˆì„ê¹Œìš”?">
    <meta property="og:image" content="https://cdn-icons-png.flaticon.com/512/3233/3233497.png">

    <link rel="stylesheet" href="style.css">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXX"
     crossorigin="anonymous"></script>

    <style>
        #game-board {
            display: grid; gap: 5px; width: 300px; height: 300px; margin: 0 auto;
            background: #eee; padding: 5px; border-radius: 10px;
        }
        .color-box {
            border-radius: 5px; cursor: pointer; transition: transform 0.1s;
        }
        .color-box:active { transform: scale(0.95); }
    </style>
</head>
<body>
    <header><a href="index.html" class="logo">ğŸ§ª ì‹¬ì‹¬í’€ì´ ì—°êµ¬ì†Œ</a></header>

    <div class="container">
        <div class="ad-placeholder">(ê´‘ê³  - ìƒë‹¨)</div>

        <div id="start-screen" class="content-box">
            <div style="font-size:3rem;">ğŸ¨</div>
            <h1>ì ˆëŒ€ìƒ‰ê° í…ŒìŠ¤íŠ¸</h1>
            <p>ì—¬ëŸ¬ ê°œì˜ ì‚¬ê°í˜• ì¤‘<br>ìƒ‰ê¹”ì´ <strong>ë”± í•˜ë‚˜ë§Œ</strong> ë‹¤ë¦…ë‹ˆë‹¤.<br>ì œí•œ ì‹œê°„ ì•ˆì— ì°¾ìœ¼ì„¸ìš”!</p>
            <button class="btn" onclick="startGame()">ê²Œì„ ì‹œì‘</button>
        </div>

        <div id="game-screen" class="content-box hidden">
            <div style="display:flex; justify-content:space-between; font-weight:bold; margin-bottom:10px;">
                <span id="score-display">Lv. 1</span>
                <span id="time-display" style="color:red;">15.0ì´ˆ</span>
            </div>
            <div id="game-board"></div>
        </div>

        <div id="result-screen" class="content-box hidden">
            <h1>â³ ì‹œê°„ ì¢…ë£Œ!</h1>
            <h2>ìµœì¢… ë ˆë²¨: <span id="final-score" style="color:var(--primary);">0</span></h2>
            <div id="rank-text" style="margin:20px 0; font-weight:bold;"></div>
            <button class="btn" onclick="location.reload()">ë‹¤ì‹œ ë„ì „</button>
        </div>

        <div class="ad-placeholder">(ê´‘ê³  - í•˜ë‹¨)</div>

        <footer>
            <p>Â© 2024 ì‹¬ì‹¬í’€ì´ ì—°êµ¬ì†Œ. All rights reserved.</p>
            <p>
                <a href="privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a> | 
                <a href="https://forms.gle/1arMG4Y5RodkcpEY7" target="_blank">ë¬¸ì˜í•˜ê¸°</a>
            </p>
        </footer>
    </div>

    <script>
        let level = 1;
        let timeLeft = 15.0;
        let timer;
        
        function startGame() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            nextLevel();
            timer = setInterval(() => {
                timeLeft -= 0.1;
                document.getElementById('time-display').innerText = timeLeft.toFixed(1) + "ì´ˆ";
                if(timeLeft <= 0) gameOver();
            }, 100);
        }

        function nextLevel() {
            document.getElementById('score-display').innerText = `Lv. ${level}`;
            const board = document.getElementById('game-board');
            board.innerHTML = '';
            
            let size = Math.min(Math.ceil((level + 1) / 2) + 1, 8); 
            board.style.gridTemplateColumns = `repeat(${size}, 1fr)`;
            
            let r = Math.floor(Math.random() * 200) + 20;
            let g = Math.floor(Math.random() * 200) + 20;
            let b = Math.floor(Math.random() * 200) + 20;
            
            let diff = Math.max(30 - level * 1.5, 5); 
            
            let correctIndex = Math.floor(Math.random() * (size * size));

            for(let i=0; i<size*size; i++) {
                let box = document.createElement('div');
                box.className = 'color-box';
                if(i === correctIndex) {
                    box.style.backgroundColor = `rgb(${r+diff}, ${g+diff}, ${b+diff})`;
                    box.onclick = () => { level++; timeLeft += 1.0; nextLevel(); };
                } else {
                    box.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
                    box.onclick = () => { timeLeft -= 2.0; board.style.animation = "shake 0.3s"; };
                }
                board.appendChild(box);
            }
        }

        function gameOver() {
            clearInterval(timer);
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            document.getElementById('final-score').innerText = level;
            
            let msg = "";
            if(level < 5) msg = "ìƒ‰ë§¹ í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤...";
            else if(level < 15) msg = "í‰ë²”í•œ ëˆˆì„ ê°€ì§€ì…¨êµ°ìš”.";
            else if(level < 30) msg = "ë¯¸ëŒ€ ì…ì‹œ ì¤€ë¹„í•˜ì…¨ë‚˜ìš”?";
            else msg = "ì¸ê°„ì˜ ëˆˆì´ ì•„ë‹™ë‹ˆë‹¤! ë§¤ì˜ ëˆˆ!";
            document.getElementById('rank-text').innerText = msg;
        }

        /* === ìŠ¤ë§ˆíŠ¸ ê³µìœ  ê¸°ëŠ¥ (ê¸°ì¡´ ê²ƒ ì§€ìš°ê³  ì´ê±¸ë¡œ êµì²´) === */
function shareTwitter() {
    var sendText = document.title; // ê¸°ë³¸ ì œëª©
    var sendUrl = window.location.href; // ê¸°ë³¸ ì£¼ì†Œ

    // ê²°ê³¼ í™”ë©´ì´ ë³´ì´ë©´? ê²°ê³¼ ë©˜íŠ¸ë¥¼ ì¶”ê°€í•œë‹¤!
    var resultScreen = document.getElementById('result-screen');
    if (resultScreen && !resultScreen.classList.contains('hidden')) {
        var resultTitle = document.getElementById('result-title').innerText;
        var resultDesc = document.getElementById('result-desc').innerText;
        // í…ìŠ¤íŠ¸ êµ¬ì„±: [ê²°ê³¼] ì œëª© - ì„¤ëª… (ì•ë¶€ë¶„ë§Œ)
        sendText = "[ë‚˜ì˜ ê²°ê³¼] " + resultTitle + "\n" + resultDesc.substring(0, 40) + "...";
    }

    window.open("https://twitter.com/intent/tweet?text=" + encodeURIComponent(sendText) + "&url=" + encodeURIComponent(sendUrl));
}

function shareFacebook() {
    // í˜ì´ìŠ¤ë¶ì€ ì •ì±…ìƒ ìš°ë¦¬ê°€ í…ìŠ¤íŠ¸ë¥¼ ê°•ì œë¡œ ëª» ë„£ìŠµë‹ˆë‹¤. (URLë§Œ ê³µìœ  ê°€ëŠ¥)
    var sendUrl = window.location.href;
    window.open("http://www.facebook.com/sharer/sharer.php?u=" + sendUrl);
}

function copyLink() {
    var sendUrl = window.location.href;
    var textToCopy = sendUrl; // ê¸°ë³¸ì€ ë§í¬ë§Œ

    // ê²°ê³¼ í™”ë©´ì´ ë³´ì´ë©´? í…ìŠ¤íŠ¸ë„ ê°™ì´ ë³µì‚¬í•´ì¤€ë‹¤!
    var resultScreen = document.getElementById('result-screen');
    if (resultScreen && !resultScreen.classList.contains('hidden')) {
        var resultTitle = document.getElementById('result-title').innerText;
        var resultDesc = document.getElementById('result-desc').innerText;
        
        // ë³µì‚¬ë  í…ìŠ¤íŠ¸ í¬ë§·
        textToCopy = "ğŸ“¢ ë‚˜ì˜ ê²°ê³¼: " + resultTitle + "\n" + resultDesc + "\n\ní…ŒìŠ¤íŠ¸ í•˜ëŸ¬ê°€ê¸° ğŸ‘‰ " + sendUrl;
    }

    navigator.clipboard.writeText(textToCopy).then(function() {
        alert("ê²°ê³¼ì™€ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! \nì¹´í†¡ì´ë‚˜ ë©”ì‹œì§€ì— ë¶™ì—¬ë„£ê¸° í•´ë³´ì„¸ìš”.");
    });
}
        
    </script>
    <style>
        @keyframes shake { 0% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -1px); } 100% { transform: translate(1px, 1px); } }
    </style>
</body>
</html>
